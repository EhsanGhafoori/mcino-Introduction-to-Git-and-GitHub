@using EventEase.Models

<div class="event-card">
    <h3>@Event.Title</h3>
    
    <div class="event-details">
        <div class="form-group">
            <label>Event Title:</label>
            <input type="text" @bind="Event.Title" @bind:event="oninput" class="form-control" />
        </div>
        
        <div class="form-group">
            <label>Date:</label>
            <input type="date" @bind="Event.Date" @bind:format="yyyy-MM-dd" class="form-control" />
        </div>
        
        <div class="form-group">
            <label>Location:</label>
            <input type="text" @bind="Event.Location" @bind:event="oninput" class="form-control" />
        </div>
        
        <div class="form-group">
            <label>Description:</label>
            <textarea @bind="Event.Description" @bind:event="oninput" class="form-control" rows="3"></textarea>
        </div>
        
        <div class="form-group">
            <label>Max Attendees:</label>
            <input type="number" @bind="Event.MaxAttendees" @bind:event="oninput" class="form-control" />
        </div>
    </div>
    
    <div class="event-actions">
        <button class="btn btn-primary" @onclick="SaveEvent">Save</button>
        @if (Event.Id > 0)
        {
            <button class="btn btn-danger" @onclick="DeleteEvent">Delete</button>
        }
    </div>
</div>

@code {
    [Parameter]
    public Event Event { get; set; } = new Event();

    [Parameter]
    public EventCallback<Event> OnEventUpdated { get; set; }

    private void SaveEvent()
    {
        OnEventUpdated.InvokeAsync(Event);
    }

    private void DeleteEvent()
    {
        // Delete logic would be handled by parent component
        OnEventUpdated.InvokeAsync(Event);
    }
}
